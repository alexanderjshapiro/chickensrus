{% extends "base.html" %}

{% block content %}
<div class="row">
    <div class="col-6">
        <img class="w-100" src="{{ listing.picture }}"/>
    </div>
    <div class="col-6">
        <h1>{{ listing.name }}</h1>
        <p><b>Price:</b> ${{ listing.price }}</p>
        <p><b>Date Posted:</b> {{ listing.date_posted }}</p>
        <p>{{ listing.listing_description }}</p>
    </div>
</div>

<div class="row">
    {% if current_user.is_anonymous %}
    <button class="col-3 mx-auto my-2 btn btn-outline-danger" disabled>Add to Cart</button>
    {% elif listing in current_user.user_cart %}
    <a href="{{ url_for('cart_remove', listing_id=listing.id) }}" class="btn btn-danger">Remove from Cart</a>
    {% else %}
    <a href="{{ url_for('cart_add', listing_id=listing.id) }}" class="btn btn-danger">Add to Cart</a>
    {% endif %}
</div>

<div class="row">
    {% if current_user.is_anonymous %}
    <button class="col-3 mx-auto my-2 btn btn-outline-danger" disabled>Add to Wishlist</button>
    {% elif listing in current_user.user_wishlist %}
    <a href="{{ url_for('wishlist_remove', listing_id=listing.id) }}" class="btn btn-danger">Remove from Wishlist</a>
    {% else %}
    <a href="{{ url_for('wishlist_add', listing_id=listing.id) }}" class="btn btn-danger">Add to Wishlist</a>
    {% endif %}
</div>
{% endblock %}
